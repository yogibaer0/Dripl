<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ameba (formerly Dripl)</title>

  <!-- üåê Pragmatic, open CSP for Ameba -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self' https: data: blob:;
    object-src 'none';
    base-uri 'self';
    script-src 'self' https: 'unsafe-inline' 'unsafe-eval' blob:;
    worker-src 'self' blob:;
    style-src 'self' https: 'unsafe-inline';
    img-src 'self' https: data: blob:;
    font-src 'self' https: data:;
    media-src 'self' https: blob: data:;
    connect-src 'self' https: http://localhost:8080 ws://localhost:8080
      https://dripl.onrender.com
      https://ujchypvlqzermgpfzaqo.supabase.co
      https://api.dropboxapi.com https://content.dropboxapi.com
      https://www.googleapis.com https://*.googleusercontent.com;
    frame-src https://accounts.google.com https://*.google.com https://*.googleusercontent.com https://www.dropbox.com;
  ">

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css" />

  <!-- Favicons / meta -->
  <link rel="icon" href="assets/dripl/dripl.png" type="image/png" />
</head>
<body>
  <!-- Corner brand -->
  <a class="corner" href="#" aria-label="Home">
    <img class="corner__logo" src="assets/dripl/dripl.png" alt="logo" />
    <span class="corner__name" id="appName">Ameba</span>
    <span class="corner__badge">beta</span>
  </a>

  <!-- Hero -->
  <header class="hero">
    <img class="hero__logo" src="assets/dripl/dripl.png" alt="" />
    <h1 class="hero__title" id="heroTitle">Ameba</h1>
    <div class="glow-line">
      <svg viewBox="0 0 100 2" preserveAspectRatio="none">
        <path d="M0,1 L100,1" stroke="url(#g)" stroke-width="2" fill="none" />
        <defs>
          <linearGradient id="g" x1="0" y1="0" x2="1" y2="0">
            <stop offset="0" stop-color="#8b5cf6"/>
            <stop offset="1" stop-color="#a78bfa"/>
          </linearGradient>
        </defs>
      </svg>
    </div>
  </header>

  <main class="panels">
    <!-- Upload -->
    <section class="card" id="uploadPanel">
      <div class="card__head">
        <div class="card__head__left">
          <span class="icon">üíß</span>
          <h2>Upload</h2>
        </div>
      </div>

      <div class="upload">
        <div id="uploadDrop" class="dropzone" aria-label="Drag & drop files here">
          <span class="dropzone__hint">
            <strong>Drag &amp; drop files here</strong>
            <em>‚Ä¶or drop a link / text</em>
          </span>
        </div>

        <div class="upload__controls">
          <input id="pasteLink" class="input" type="text" placeholder="Paste link (YouTube, TikTok, etc.)" />
          <select id="formatSelect" class="select">
            <option value="mp4">MP4 (video)</option>
            <option value="mp3">MP3 (audio)</option>
          </select>
          <button id="convertBtn" class="btn btn--primary">Convert</button>
        </div>
        <p class="muted">Pro tip: press <kbd>Enter</kbd> to convert instantly.</p>
      </div>
    </section>

    <!-- Import -->
    <section class="card" id="importPanel">
      <div class="card__head">
        <div class="card__head__left">
          <span class="icon">üåê</span>
          <h2>Import</h2>
        </div>
      </div>

      <div class="import">
        <div class="import__col">
          <h3>This device</h3>
          <button id="importChooseBtn" class="btn" data-action="choose-files" type="button">Choose files</button>
          <input id="importFileInput" type="file" multiple style="position:absolute; left:-9999px; width:1px; height:1px;" />
        </div>

        <div class="import__col">
          <h3>Dropbox</h3>
          <button id="connectDropbox" class="btn">Connect Dropbox</button>
          <p class="muted">Direct links, multi-select</p>
        </div>

        <div class="import__col">
          <h3>Google Drive</h3>
          <button id="connectDrive" class="btn">Connect Google Drive</button>
          <p class="muted">Picker with OAuth</p>
        </div>
      </div>
    </section>

    <!-- Storage -->
    <section class="card" id="storagePanel">
      <div class="card__head">
        <div class="card__head__left">
          <span class="icon">üíæ</span>
          <h2>Storage</h2>
        </div>

        <div class="toolbar">
          <div class="search">
            <input id="storageSearch" type="search" placeholder="Search by file name, tags, notes, or source‚Ä¶" />
            <button id="storageClearSearch" class="icon-btn" aria-label="Clear">‚úï</button>
          </div>

          <button id="btnAddFolder" class="btn">+ Folder</button>
          <button id="btnFilters" class="btn">Filters ‚ñæ</button>
          <button id="btnPresets" class="btn">Presets ‚ñæ</button>
        </div>
      </div>

      <div class="tabs">
        <button class="chip chip--active" data-tab="recent" id="tabRecent">Recent</button>
        <button class="chip" data-tab="saved" id="tabSaved">Saved ‚òÖ</button>
        <button class="chip" data-tab="queue" id="tabQueue">In progress</button>
        <button class="chip" data-tab="shared" id="tabShared">Shared with me</button>
        <button class="chip" data-tab="trash" id="tabTrash">Trash</button>
      </div>

      <div id="storageList" class="grid"></div>
    </section>
  </main>

  <!-- Supabase config -->
  <meta name="supabase-url" content="https://ujchypvlqzermgpfzaqo.supabase.co" />
  <meta name="supabase-anon" content="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVqY2h5cHZscXplcm1ncGZ6YXFvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzNzA3NzQsImV4cCI6MjA3NTk0Njc3NH0.WHWxl2VReNQrjlnSlIjyagLpWLex6vmKI0KpXX6_i1w" />

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" defer></script>
<!-- Lightweight FFmpeg loader for users -->
<script>
  window.__FFMPEG__ = {};
  (async () => {
    try {
      const { createFFmpeg, fetchFile } = await import('https://cdn.jsdelivr.net/npm/@ffmpeg/ffmpeg@0.12.6/dist/esm/index.js');
      const ff = createFFmpeg({ log: false, corePath: 'https://cdn.jsdelivr.net/npm/@ffmpeg/core@0.12.6/dist/ffmpeg-core.js' });
      window.__FFMPEG__ = { FFmpeg: ff, fetchFile };
      console.log('FFmpeg ready');
    } catch (err) {
      console.warn('FFmpeg load failed', err);
    }
  })();
</script>

  <script type="module" src="script.js"></script>
</body>
</html>















